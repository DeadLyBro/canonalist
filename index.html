<!DOCTYPE html>
<meta charset="utf-8">

<head>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Patrick+Hand">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typicons.font@2.0.9/src/font/typicons.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vue-draggable-resizable@2.0.1/dist/VueDraggableResizable.min.css">
</head>

<body>
  <div id="editor">
    <div id="toolbar">
      <button @click="newImage">New Image</button>
      <button @click="selectBox">Select JP area</button>
      <button @click="detectJapanese">Detect all JP</button>
      <button @click="makeBubbles">Translate to EN</button>
      <button @click="saveImage">Save Image</button>
    </div>
    <div id="scrollport" @mousedown="handleMouseDown" @mousemove="handleMouseMove">
      <div id="textlayers" style="z-index:102;">
        <bubble-component v-for="(bubble, i) in bubbles" v-model="bubbles[i]"
          @bubble-focus="updateSelectedId">
        </bubble-component>
      </div>
      <v-stage id="konva" ref="stage" :config="configKonva">
        <v-layer v-if="showKonvaText" ref="textLayer">
            <v-text v-for="configText in configTexts" :config="configText"></v-text>
        </v-layer>
        <v-layer ref="uiLayer">
            <v-rect :config="configRect"></v-rect>
          </v-layer>
      </v-stage>
      <div id="dropzone">
        <canvas ref="canvas" id="canvas" width="520" height="800"></canvas>
      </div>
    </div>
    <div id="bubbleData">
        <textarea v-model="selectedBubble.japanese" rows="5"></textarea>
        <textarea v-model="selectedBubble.english" rows="5"></textarea>
        <textarea name="lyrics" id="lyrics" rows="10" cols="20"></textarea>
        <canvas id="snippet" width="100" height="100"></canvas>  
    </div>
  </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.2/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue-draggable-resizable@2.0.1/dist/VueDraggableResizable.umd.min.js"></script>
<script src='https://unpkg.com/konva@4.0.0/konva.min.js'></script>
<script src='https://unpkg.com/vue-konva/umd/vue-konva.min.js'></script>
<script src="right-click-ocr.js"></script>
<script src="separator.js"></script>
<script src="soap.js"></script>
